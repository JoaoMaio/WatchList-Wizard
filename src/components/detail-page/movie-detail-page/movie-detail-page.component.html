<div *ngIf="!isLoading" class="page">
  <div class="card">
    <div class="backdrop">
      <img src="{{movie?.backdrop_path}}" alt="backdrop" />
      <div class="title_checkmark">
        <div class="info">
          <h1 class="title">{{ movie?.title }}</h1>
          <div class="markAsWatched"> 
            <div class="markAsWatched"> 
              <button *ngIf="!watched" (click)="addMovieToWatchList()" class="markAsWatchedbutton">
                +
              </button>
              <button *ngIf="watched" (click)="removeMovieFromWatchList()" class="markAsWatchedbutton watched">
                âœ“
              </button>
            </div>
          </div>
        </div>

        <div class="countSeasons_RunTime">
            <span>{{ movie?.runtime }} min</span>
        </div>
      </div>
    </div>
  </div>
  
  <div class="content">
    <div class="movie_info">

      <p class="overview">{{ movie?.overview }}</p>

      <div class="rating">
        <span>{{ movie?.vote_average?.toPrecision(3) }} / 10</span>
      </div>

      <div class="genres">
        <span *ngFor="let genre of movie?.genres">{{ genre.name }}</span>
      </div>

      <div class="release_date">
        <span>{{ movie?.release_date }}</span>
      </div>

      <div class="budget">
        <span>{{ movie?.budget | currency:'USD':'symbol':'1.0-0' }}</span>
      </div>

      <div class="providers_section">
        <p>Watch on:</p>
        <div class="providers">
          <span *ngFor="let provider of movie?.watch_providers">
            <img src="https://image.tmdb.org/t/p/w500/{{ provider.logo_path }}" alt="{{ provider.provider_name }}" />
            <p>{{ provider.provider_name }}</p>
          </span>
        </div>
      </div>

    </div>
  </div>
</div>
  
<!-- Optionally handle loading state -->
<div *ngIf="isLoading" class="loading">
  <p>Loading...</p>
</div>